buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }
}

plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.5.10'
    id 'org.jetbrains.intellij' version '1.0'
}

group 'com.nilsenlabs.flavormatrix'
version '0.6.0'

intellij {
    // version = '202.7660.26'  // IntelliJ IDEA version used in Android Studio 4.2.1
    //type = 'IC'                // Community edition
    plugins = ['android']
    localPath = 'C:/Programfiler/android/Android Studio'
    //updateSinceUntilBuild false
}

patchPluginXml {
    changeNotes = """
    <ul>
      <li>0.6.0 Support for Android 2.2</li>
    </ul>
    """
}
/*
Android Studio 4.2.1
Build #AI-202.7660.26.42.7351085, built on May 10, 2021
*/
runIde {
    // Absolute path to installed target 4.1 Android Studio to use as IDE Development Instance
    //def dir = 'c:/Program Files/Android/Android Studio 4.1 RC3'
    //def dir = 'C:/Program Files/Android/Android Studio'
    def dir = 'C:/Programfiler/android/Android Studio' // Path to AS 4.2.1 on my work computer

    def dirObj = project.getLayout().getProjectDirectory().dir(dir)
    ideDir.set(dirObj)
}

repositories {
    mavenLocal()
    mavenCentral()
    jcenter()
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testCompile "org.mockito:mockito-core:2.+"
}

//publishPlugin {
//   token project.properties['jetbrains.publish.token']
//}
