buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }
}

plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.3.72'
    id 'org.jetbrains.intellij' version '0.4.21'
}

group 'com.nilsenlabs.flavormatrix'
version '0.5.0'

patchPluginXml {
    changeNotes """
    <ul>
      <li>0.5 Beta version of the Flavor Matrix plugin</li>
    </ul>
    """
}

intellij {
    version '201.8743.12'  // Same IntelliJ IDEA version as target 4.1 Android Studio
    type 'IC'              // Use IntelliJ IDEA CE because it's the basis of the IntelliJ Platform   
    // Require the Android plugin, Gradle will match the plugin version to intellij.version 
    plugins 'android'
    updateSinceUntilBuild false

}

runIde {
    // Absolute path to installed target 4.1 Android Studio to use as IDE Development Instance
    // The "Contents" directory is macOS specific.
    ideDirectory 'c:/Program Files/Android/Android Studio 4.1 RC3'
    //ideDirectory 'C:/Program Files/Android/Android Studio'
}

repositories {
    mavenLocal()
    mavenCentral()
    jcenter()
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testCompile "org.mockito:mockito-core:2.+"
}

publishPlugin {
    token project.properties['jetbrains.publish.token']
}
